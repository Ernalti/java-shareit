CREATE TABLE IF NOT EXISTS users (
    id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    name VARCHAR,
    email VARCHAR,
    CONSTRAINT email UNIQUE (email),
    CONSTRAINT pk_user PRIMARY KEY (id)


);
CREATE TABLE IF NOT EXISTS items (
    id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    name VARCHAR,
    description VARCHAR,
    available BOOLEAN,
    owner_id INTEGER REFERENCES users (id) NOT NULL,
    CONSTRAINT pk_item PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS booking (
    id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL PRIMARY KEY,
    start_booking DATETIME,
    end_booking DATETIME,
    item INTEGER NOT NULL REFERENCES items (id) ON DELETE CASCADE,
    booker INTEGER NOT NULL REFERENCES users (id) ON DELETE CASCADE,
    status VARCHAR NOT NULL
);

CREATE TABLE IF NOT EXISTS comments (
    id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL PRIMARY KEY,
    text VARCHAR NOT NULL,
    item BIGINT NOT NULL REFERENCES items (id) ON DELETE CASCADE,
    author BIGINT NOT NULL REFERENCES users (id) ON DELETE CASCADE,
    created DATETIME NOT NULL
);